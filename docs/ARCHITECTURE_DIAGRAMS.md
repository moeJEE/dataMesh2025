# ğŸ¨ DataMeesh - Architecture Diagrams

**Visual Guide to Platform Architecture**

---

## ğŸ“ Diagram 1: Complete Technical Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ğŸŒ USER ACCESS LAYER                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Browser                Browser              Browser               Browser
   (Admin)              (Data Scientist)     (Sales User)        (Marketing User)
      â”‚                      â”‚                    â”‚                    â”‚
      â”‚ :30080              â”‚ :30080             â”‚ :30030             â”‚ :30030
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                         â”‚
                 â–¼                                         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     JupyterHub         â”‚                â”‚       Grafana          â”‚
    â”‚   (Self-Service)       â”‚                â”‚    (Visualization)     â”‚
    â”‚                        â”‚                â”‚                        â”‚
    â”‚  â€¢ Python 3.11         â”‚                â”‚  â€¢ Pre-built dashboardsâ”‚
    â”‚  â€¢ Jupyter Notebooks   â”‚                â”‚  â€¢ Query builder       â”‚
    â”‚  â€¢ DBT CLI             â”‚                â”‚  â€¢ Alerting            â”‚
    â”‚  â€¢ Trino Python Client â”‚                â”‚  â€¢ User permissions    â”‚
    â”‚  â€¢ Pandas, Matplotlib  â”‚                â”‚  â€¢ Export (PDF/PNG)    â”‚
    â”‚                        â”‚                â”‚                        â”‚
    â”‚  PVC: 10Gi (persistent)â”‚                â”‚  Data Sources:         â”‚
    â”‚  Port: 30080           â”‚                â”‚    - Sales DB          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    - Marketing DB      â”‚
                 â”‚                             â”‚    - Sales API DB      â”‚
                 â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                          â”‚
                 â”‚                                          â”‚
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ğŸ”— QUERY & FEDERATION LAYER                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                 â”‚                                          â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ SQL Queries
                            â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   Trino Coordinator   â”‚
                â”‚   :30808 (Web UI)     â”‚
                â”‚   :8080  (JDBC)       â”‚
                â”‚                       â”‚
                â”‚  â€¢ Query Planning     â”‚
                â”‚  â€¢ Query Optimization â”‚
                â”‚  â€¢ Result Aggregation â”‚
                â”‚  â€¢ Catalog Management â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ Distribute Work
                            â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚    Trino Worker       â”‚
                â”‚                       â”‚
                â”‚  â€¢ Query Execution    â”‚
                â”‚  â€¢ Data Processing    â”‚
                â”‚  â€¢ Result Caching     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
        â”‚         Catalogs Configuration        â”‚
        â”‚                                       â”‚
        â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL    â”‚                      â”‚     Hive       â”‚
â”‚  Connector    â”‚                      â”‚   Connector    â”‚
â”‚               â”‚                      â”‚                â”‚
â”‚ â€¢ sales       â”‚                      â”‚ â€¢ hive         â”‚
â”‚ â€¢ marketing   â”‚                      â”‚   (data lake)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
        â”‚                                       â”‚
â•”â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       ğŸ’¾ STORAGE & METADATA LAYER                                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        â”‚                                       â”‚
        â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                              â”‚ Hive Metastore  â”‚
        â”‚                              â”‚   :9083         â”‚
        â”‚                              â”‚                 â”‚
        â”‚                              â”‚ â€¢ Table schemas â”‚
        â”‚                              â”‚ â€¢ Partitions    â”‚
        â”‚                              â”‚ â€¢ Locations     â”‚
        â”‚                              â”‚ â€¢ Statistics    â”‚
        â”‚                              â”‚                 â”‚
        â”‚                              â”‚ Backend DB:     â”‚
        â”‚                              â”‚  PostgreSQL     â”‚
        â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
        â”‚                                       â”‚ Metadata
        â”‚                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚         â”‚                 â”‚
â”‚    Domain Databases        â”‚         â”‚  Data Lake      â”‚
â”‚                            â”‚         â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Sales Domain   â”‚     â”‚         â”‚  â”‚   Minio   â”‚  â”‚
â”‚  â”‚   PostgreSQL     â”‚     â”‚         â”‚  â”‚    S3     â”‚  â”‚
â”‚  â”‚   :5432          â”‚     â”‚         â”‚  â”‚  :9000    â”‚  â”‚
â”‚  â”‚                  â”‚     â”‚         â”‚  â”‚           â”‚  â”‚
â”‚  â”‚ Tables:          â”‚     â”‚         â”‚  â”‚ Buckets:  â”‚  â”‚
â”‚  â”‚  â€¢ customers     â”‚     â”‚         â”‚  â”‚  â€¢ datalakeâ”‚ â”‚
â”‚  â”‚  â€¢ orders        â”‚     â”‚         â”‚  â”‚  â€¢ backups â”‚ â”‚
â”‚  â”‚                  â”‚     â”‚         â”‚  â”‚           â”‚  â”‚
â”‚  â”‚ PVC: 5Gi         â”‚     â”‚         â”‚  â”‚ Console:  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚         â”‚  â”‚  :30901   â”‚  â”‚
â”‚                            â”‚         â”‚  â”‚           â”‚  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚         â”‚  â”‚ PVC: 20Gi â”‚  â”‚
â”‚  â”‚ Marketing Domain â”‚     â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚   PostgreSQL     â”‚     â”‚         â”‚                 â”‚
â”‚  â”‚   :5432          â”‚     â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ Tables:          â”‚     â”‚
â”‚  â”‚  â€¢ leads         â”‚     â”‚
â”‚  â”‚  â€¢ campaigns     â”‚     â”‚
â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ PVC: 5Gi         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Sales API Domain â”‚     â”‚
â”‚  â”‚   PostgreSQL     â”‚     â”‚
â”‚  â”‚   :5432          â”‚     â”‚
â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ Tables:          â”‚     â”‚
â”‚  â”‚  â€¢ api_logs      â”‚     â”‚
â”‚  â”‚  â€¢ metrics       â”‚     â”‚
â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ PVC: 2Gi         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Grafana DB      â”‚     â”‚
â”‚  â”‚   PostgreSQL     â”‚     â”‚
â”‚  â”‚   :5432          â”‚     â”‚
â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ PVC: 1Gi         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         ğŸ”§ TRANSFORMATION LAYER                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

         JupyterHub â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                       â”‚
              â”‚ dbt run               â”‚ dbt docs generate
              â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  DBT Models     â”‚      â”‚   DBT Docs     â”‚
    â”‚                 â”‚      â”‚   (Nginx)      â”‚
    â”‚ â€¢ Staging       â”‚      â”‚   :30082       â”‚
    â”‚ â€¢ Marts         â”‚      â”‚                â”‚
    â”‚ â€¢ Cross-domain  â”‚      â”‚ â€¢ Lineage      â”‚
    â”‚                 â”‚      â”‚ â€¢ Tests        â”‚
    â”‚ Sources:        â”‚      â”‚ â€¢ Catalog      â”‚
    â”‚  sales DB â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤                â”‚
    â”‚  marketing DB   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                 â”‚
    â”‚ Target:         â”‚
    â”‚  Trino/PgSQL    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      ğŸ—ï¸ INFRASTRUCTURE LAYER (Kubernetes)                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        Kubernetes Cluster                              â”‚
    â”‚                                                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚   Namespace:     â”‚  â”‚   Namespace:     â”‚  â”‚   Namespace:     â”‚   â”‚
    â”‚  â”‚  data-platform   â”‚  â”‚  sales-domain    â”‚  â”‚ marketing-domain â”‚   â”‚
    â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
    â”‚  â”‚ â€¢ JupyterHub     â”‚  â”‚ â€¢ Sales DB       â”‚  â”‚ â€¢ Marketing DB   â”‚   â”‚
    â”‚  â”‚ â€¢ Trino          â”‚  â”‚ â€¢ Sales API      â”‚  â”‚                  â”‚   â”‚
    â”‚  â”‚ â€¢ Minio          â”‚  â”‚ â€¢ Sales API DB   â”‚  â”‚                  â”‚   â”‚
    â”‚  â”‚ â€¢ Hive           â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
    â”‚  â”‚ â€¢ Grafana        â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
    â”‚  â”‚ â€¢ Nginx          â”‚  â”‚                  â”‚  â”‚                  â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                                        â”‚
    â”‚  Services (NodePort):                                                 â”‚
    â”‚  â€¢ JupyterHub:  30080                                                 â”‚
    â”‚  â€¢ Trino UI:    30808                                                 â”‚
    â”‚  â€¢ Minio:       30900 (API), 30901 (Console)                          â”‚
    â”‚  â€¢ Grafana:     30030                                                 â”‚
    â”‚  â€¢ DBT Docs:    30082                                                 â”‚
    â”‚  â€¢ Sales API:   30081                                                 â”‚
    â”‚                                                                        â”‚
    â”‚  Persistent Volumes:                                                  â”‚
    â”‚  â€¢ jupyterhub-pvc:       10Gi                                         â”‚
    â”‚  â€¢ minio-pvc:            20Gi                                         â”‚
    â”‚  â€¢ sales-db-pvc:         5Gi                                          â”‚
    â”‚  â€¢ marketing-db-pvc:     5Gi                                          â”‚
    â”‚  â€¢ sales-api-db-pvc:     2Gi                                          â”‚
    â”‚  â€¢ grafana-pvc:          1Gi                                          â”‚
    â”‚  â€¢ hive-metastore-pvc:   2Gi                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         ğŸ“¦ OPTIONAL COMPONENTS                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  DataHub (Optional - Docker Compose)                            â”‚
    â”‚  Requires: 10-12GB RAM                                          â”‚
    â”‚                                                                 â”‚
    â”‚  â€¢ datahub-gms          (Metadata Service)                      â”‚
    â”‚  â€¢ datahub-frontend     (Web UI :9002)                          â”‚
    â”‚  â€¢ datahub-mae-consumer (Event Consumer)                        â”‚
    â”‚  â€¢ datahub-mce-consumer (Change Consumer)                       â”‚
    â”‚  â€¢ elasticsearch        (Search)                                â”‚
    â”‚  â€¢ neo4j                (Graph)                                 â”‚
    â”‚  â€¢ kafka/zookeeper      (Event Bus)                             â”‚
    â”‚  â€¢ schema-registry      (Avro Schemas)                          â”‚
    â”‚                                                                 â”‚
    â”‚  Integration:                                                   â”‚
    â”‚    JupyterHub â”€â”€â–º DBT â”€â”€â–º DataHub (metadata ingestion)          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Diagram 2: Data Flow Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     DATA FLOW: User Query to Results                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

 STEP 1: User writes federated query
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Scientist @ JupyterHub        â”‚
â”‚                                     â”‚
â”‚  from trino.dbapi import connect    â”‚
â”‚                                     â”‚
â”‚  query = """                        â”‚
â”‚    SELECT                           â”‚
â”‚      s.customer_name,               â”‚
â”‚      m.campaign_name,               â”‚
â”‚      SUM(s.revenue)                 â”‚
â”‚    FROM sales.public.customers s    â”‚â—„â”€â”€â”€ Query spans 2 domains!
â”‚    JOIN marketing.public.leads m    â”‚
â”‚      ON s.email = m.email           â”‚
â”‚    GROUP BY 1, 2                    â”‚
â”‚  """                                â”‚
â”‚                                     â”‚
â”‚  cursor.execute(query)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘  Submit SQL
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Trino Coordinator               â”‚
â”‚                                     â”‚
â”‚  [Query Parser]                     â”‚
â”‚    â””â”€â”€â–º Parse SQL                   â”‚
â”‚                                     â”‚
â”‚  [Query Planner]                    â”‚
â”‚    â””â”€â”€â–º Create execution plan       â”‚
â”‚         â€¢ Identify tables           â”‚
â”‚         â€¢ Determine join strategy   â”‚
â”‚         â€¢ Optimize query            â”‚
â”‚                                     â”‚
â”‚  [Catalog Manager]                  â”‚
â”‚    â””â”€â”€â–º Resolve table locations     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¡ Distributed execution plan
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Trino Worker                  â”‚
â”‚                                     â”‚
â”‚  Stage 1: Scan Sales DB             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ SELECT customer_id,â”‚           â”‚
â”‚    â”‚   customer_name,   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ â‘¢ Query sales.customers
â”‚    â”‚   email, revenue   â”‚           â”‚
â”‚    â”‚ FROM customers     â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚                         â”‚
â”‚           â”‚ Results: 1000 rows      â”‚
â”‚           â–¼                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚  Memory Buffer     â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚  Stage 2: Scan Marketing DB         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ SELECT lead_id,    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ â‘£ Query marketing.leads
â”‚    â”‚   email,           â”‚           â”‚
â”‚    â”‚   campaign_name    â”‚           â”‚
â”‚    â”‚ FROM leads         â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚                         â”‚
â”‚           â”‚ Results: 2500 rows      â”‚
â”‚           â–¼                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚  Memory Buffer     â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚  Stage 3: Hash Join                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ Join on email      â”‚           â”‚
â”‚    â”‚ â€¢ Build hash table â”‚           â”‚
â”‚    â”‚ â€¢ Probe & match    â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚             â”‚                       â”‚
â”‚             â”‚ Results: 850 rows     â”‚
â”‚             â–¼                       â”‚
â”‚  Stage 4: Aggregation               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚ GROUP BY           â”‚           â”‚
â”‚    â”‚ customer_name,     â”‚           â”‚
â”‚    â”‚ campaign_name      â”‚           â”‚
â”‚    â”‚                    â”‚           â”‚
â”‚    â”‚ SUM(revenue)       â”‚           â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚             â”‚                       â”‚
â”‚             â”‚ Final: 45 rows        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¤ Return results
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Trino Coordinator               â”‚
â”‚                                     â”‚
â”‚  [Result Aggregator]                â”‚
â”‚    â””â”€â”€â–º Combine worker results      â”‚
â”‚                                     â”‚
â”‚  [Result Cache]                     â”‚
â”‚    â””â”€â”€â–º Cache for reuse             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¥ Send results
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    JupyterHub (Data Scientist)      â”‚
â”‚                                     â”‚
â”‚  df = pd.DataFrame(                 â”‚
â”‚      cursor.fetchall(),             â”‚
â”‚      columns=[...]                  â”‚
â”‚  )                                  â”‚
â”‚                                     â”‚
â”‚  # Results ready in 2.3 seconds!    â”‚
â”‚                                     â”‚
â”‚  df.head()                          â”‚
â”‚    customer_name  campaign  revenue â”‚
â”‚  0 Alice Johnson  Spring    $5,230  â”‚
â”‚  1 Bob Smith      Black Fr  $3,890  â”‚
â”‚  2 Carol White    Spring    $4,120  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    DATA FLOW: DBT Transformation Pipeline                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

 STEP 1: Data Scientist runs DBT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JupyterHub Terminal                â”‚
â”‚                                     â”‚
â”‚  $ cd ~/dbt_projects                â”‚
â”‚  $ dbt run --profiles-dir .         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘  Execute DBT
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DBT Core                    â”‚
â”‚                                     â”‚
â”‚  [Dependency Resolver]              â”‚
â”‚    â””â”€â”€â–º Analyze model dependencies  â”‚
â”‚         â€¢ Read dbt_project.yml      â”‚
â”‚         â€¢ Build DAG                 â”‚
â”‚                                     â”‚
â”‚  [Execution Order]                  â”‚
â”‚    1. sources (raw tables)          â”‚
â”‚    2. staging models                â”‚
â”‚    3. marts models                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¡ Compiled SQL
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model: stg_sales__customers                                â”‚
â”‚  Target: sales_analytics.staging                            â”‚
â”‚                                                             â”‚
â”‚  CREATE OR REPLACE VIEW staging.stg_sales__customers AS     â”‚
â”‚  SELECT                                                     â”‚
â”‚    customer_id,                                             â”‚
â”‚    LOWER(TRIM(customer_name)) as customer_name,             â”‚
â”‚    LOWER(TRIM(email)) as email,                             â”‚
â”‚    phone,                                                   â”‚
â”‚    created_at                                               â”‚
â”‚  FROM sales.public.customers                                â”‚
â”‚  WHERE created_at >= CURRENT_DATE - INTERVAL '1 year'       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¢ Execute on target
              â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ PostgreSQL   â”‚â—„â”€â”€â”€ Creates view/table
       â”‚ (Sales DB)   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘£ Success (0.45s)
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model: mart_customer_journey       â”‚
â”‚  Target: sales_analytics.marts      â”‚
â”‚                                     â”‚
â”‚  Dependencies:                      â”‚
â”‚    â€¢ stg_sales__customers âœ…        â”‚
â”‚    â€¢ stg_marketing__leads âœ…        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¤ Execute complex transformation
              â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   Trino      â”‚â—„â”€â”€â”€ Federated query execution
       â”‚              â”‚
       â”‚ Reads from:  â”‚
       â”‚  â€¢ Sales DB  â”‚
       â”‚  â€¢ Marketing â”‚
       â”‚              â”‚
       â”‚ Writes to:   â”‚
       â”‚  â€¢ Marts DB  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ â‘¥ Model built successfully
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DBT Summary                 â”‚
â”‚                                     â”‚
â”‚  Completed successfully             â”‚
â”‚                                     â”‚
â”‚  Done. PASS=8 WARN=0 ERROR=0 SKIP=0 â”‚
â”‚                                     â”‚
â”‚  Models updated:                    â”‚
â”‚    âœ… stg_sales__customers          â”‚
â”‚    âœ… stg_marketing__leads          â”‚
â”‚    âœ… mart_customer_journey         â”‚
â”‚                                     â”‚
â”‚  Tests passed: 12/12                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Diagram 3: Network & Ports Architecture

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     NETWORK TOPOLOGY & PORT MAPPING                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                              ğŸŒ EXTERNAL ACCESS (localhost)
                                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                               â”‚                               â”‚
        â”‚ :30080                        â”‚ :30808                       â”‚ :30901
        â”‚ JupyterHub                    â”‚ Trino UI                     â”‚ Minio Console
        â”‚                               â”‚                               â”‚
        â”‚ :30030                        â”‚ :30082                       â”‚ :30081
        â”‚ Grafana                       â”‚ DBT Docs                     â”‚ Sales API
        â”‚                               â”‚                               â”‚
â•”â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â–¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        KUBERNETES SERVICES (NodePort)                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NAMESPACE: data-platform                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Service: proxy-public (JupyterHub)                                                 â”‚
â”‚    â€¢ Type: NodePort                                                                 â”‚
â”‚    â€¢ Port: 80                                                                       â”‚
â”‚    â€¢ NodePort: 30080                                                                â”‚
â”‚    â€¢ Target: hub:8000                                                               â”‚
â”‚         â””â”€â”€â–º Pod: hub-xxxxxxxxx                                                     â”‚
â”‚              â””â”€â”€â–º Container: hub:8000                                               â”‚
â”‚                   â””â”€â”€â–º Container: jupyter-user:8888 (spawned)                       â”‚
â”‚                                                                                      â”‚
â”‚  Service: trino-coordinator                                                         â”‚
â”‚    â€¢ Type: ClusterIP + NodePort                                                     â”‚
â”‚    â€¢ Ports:                                                                         â”‚
â”‚      - 8080  (JDBC/API)                                                             â”‚
â”‚      - 30808 (Web UI - NodePort)                                                    â”‚
â”‚    â€¢ Target: trino-coordinator                                                      â”‚
â”‚         â””â”€â”€â–º Pod: trino-coordinator-0                                               â”‚
â”‚              â””â”€â”€â–º Container: trinodb/trino:435                                      â”‚
â”‚                                                                                      â”‚
â”‚  Service: trino-worker                                                              â”‚
â”‚    â€¢ Type: ClusterIP                                                                â”‚
â”‚    â€¢ Port: 8080 (Internal)                                                          â”‚
â”‚    â€¢ Target: trino-worker                                                           â”‚
â”‚         â””â”€â”€â–º Pod: trino-worker-0                                                    â”‚
â”‚              â””â”€â”€â–º Container: trinodb/trino:435                                      â”‚
â”‚                                                                                      â”‚
â”‚  Service: minio                                                                     â”‚
â”‚    â€¢ Type: NodePort                                                                 â”‚
â”‚    â€¢ Ports:                                                                         â”‚
â”‚      - 9000  â†’ 30900 (S3 API)                                                       â”‚
â”‚      - 9001  â†’ 30901 (Console)                                                      â”‚
â”‚    â€¢ Target: minio                                                                  â”‚
â”‚         â””â”€â”€â–º Pod: minio-xxxxxxxxx                                                   â”‚
â”‚              â””â”€â”€â–º Container: minio/minio:latest                                     â”‚
â”‚                                                                                      â”‚
â”‚  Service: hive-metastore                                                            â”‚
â”‚    â€¢ Type: ClusterIP (Internal only)                                                â”‚
â”‚    â€¢ Port: 9083 (Thrift)                                                            â”‚
â”‚    â€¢ Target: hive-metastore                                                         â”‚
â”‚         â””â”€â”€â–º Pod: hive-metastore-xxxxxxxxx                                          â”‚
â”‚              â””â”€â”€â–º Container: apache/hive:3.1.3                                      â”‚
â”‚                                                                                      â”‚
â”‚  Service: grafana                                                                   â”‚
â”‚    â€¢ Type: NodePort                                                                 â”‚
â”‚    â€¢ Port: 3000 â†’ 30030                                                             â”‚
â”‚    â€¢ Target: grafana                                                                â”‚
â”‚         â””â”€â”€â–º Pod: grafana-xxxxxxxxx                                                 â”‚
â”‚              â””â”€â”€â–º Container: grafana/grafana:latest                                 â”‚
â”‚                                                                                      â”‚
â”‚  Service: nginx-dbt-docs                                                            â”‚
â”‚    â€¢ Type: NodePort                                                                 â”‚
â”‚    â€¢ Port: 80 â†’ 30082                                                               â”‚
â”‚    â€¢ Target: nginx                                                                  â”‚
â”‚         â””â”€â”€â–º Pod: nginx-dbt-docs-xxxxxxxxx                                          â”‚
â”‚              â””â”€â”€â–º Container: nginx:alpine                                           â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NAMESPACE: sales-domain                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Service: sales-db                                                                  â”‚
â”‚    â€¢ Type: ClusterIP (Internal only)                                                â”‚
â”‚    â€¢ Port: 5432 (PostgreSQL)                                                        â”‚
â”‚    â€¢ Target: sales-db                                                               â”‚
â”‚         â””â”€â”€â–º Pod: sales-db-xxxxxxxxx                                                â”‚
â”‚              â””â”€â”€â–º Container: postgres:15                                            â”‚
â”‚                   â””â”€â”€â–º DB: sales_data                                               â”‚
â”‚                        â””â”€â”€â–º Tables: customers, orders                               â”‚
â”‚                                                                                      â”‚
â”‚  Service: sales-api                                                                 â”‚
â”‚    â€¢ Type: NodePort                                                                 â”‚
â”‚    â€¢ Port: 5000 â†’ 30081                                                             â”‚
â”‚    â€¢ Target: sales-api                                                              â”‚
â”‚         â””â”€â”€â–º Pod: sales-api-xxxxxxxxx                                               â”‚
â”‚              â””â”€â”€â–º Container: python:3.11-slim (Flask)                               â”‚
â”‚                                                                                      â”‚
â”‚  Service: sales-api-db                                                              â”‚
â”‚    â€¢ Type: ClusterIP (Internal only)                                                â”‚
â”‚    â€¢ Port: 5432 (PostgreSQL)                                                        â”‚
â”‚    â€¢ Target: sales-api-db                                                           â”‚
â”‚         â””â”€â”€â–º Pod: sales-api-db-xxxxxxxxx                                            â”‚
â”‚              â””â”€â”€â–º Container: postgres:15                                            â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  NAMESPACE: marketing-domain                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                      â”‚
â”‚  Service: marketing-db                                                              â”‚
â”‚    â€¢ Type: ClusterIP (Internal only)                                                â”‚
â”‚    â€¢ Port: 5432 (PostgreSQL)                                                        â”‚
â”‚    â€¢ Target: marketing-db                                                           â”‚
â”‚         â””â”€â”€â–º Pod: marketing-db-xxxxxxxxx                                            â”‚
â”‚              â””â”€â”€â–º Container: postgres:15                                            â”‚
â”‚                   â””â”€â”€â–º DB: marketing_data                                           â”‚
â”‚                        â””â”€â”€â–º Tables: leads, campaigns                                â”‚
â”‚                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         INTERNAL COMMUNICATION PATHS                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

JupyterHub User Pod
    â”‚
    â”œâ”€â”€â–º Trino Coordinator
    â”‚    (trino-coordinator.data-platform.svc.cluster.local:8080)
    â”‚
    â”œâ”€â”€â–º DBT â†’ Trino
    â”‚    (Same connection as above)
    â”‚
    â””â”€â”€â–º Direct DB access (if needed)
         â””â”€â”€â–º sales-db.sales-domain.svc.cluster.local:5432
         â””â”€â”€â–º marketing-db.marketing-domain.svc.cluster.local:5432

Trino Coordinator
    â”‚
    â”œâ”€â”€â–º Trino Worker
    â”‚    (trino-worker.data-platform.svc.cluster.local:8080)
    â”‚
    â”œâ”€â”€â–º Sales DB (via PostgreSQL connector)
    â”‚    (sales-db.sales-domain.svc.cluster.local:5432)
    â”‚
    â”œâ”€â”€â–º Marketing DB (via PostgreSQL connector)
    â”‚    (marketing-db.marketing-domain.svc.cluster.local:5432)
    â”‚
    â””â”€â”€â–º Hive Metastore (via Hive connector)
         (hive-metastore.data-platform.svc.cluster.local:9083)
              â”‚
              â””â”€â”€â–º Minio (S3 API)
                   (minio.data-platform.svc.cluster.local:9000)

Grafana
    â”‚
    â”œâ”€â”€â–º Sales DB
    â”‚    (sales-db.sales-domain.svc.cluster.local:5432)
    â”‚
    â”œâ”€â”€â–º Marketing DB
    â”‚    (marketing-db.marketing-domain.svc.cluster.local:5432)
    â”‚
    â””â”€â”€â–º Sales API DB
         (sales-api-db.sales-domain.svc.cluster.local:5432)

Hive Metastore
    â”‚
    â””â”€â”€â–º PostgreSQL (metadata backend)
         (hive-metastore-db.data-platform.svc.cluster.local:5432)
```

---

## ğŸ­ Diagram 4: User Personas & Access Patterns

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          USER PERSONAS & WORKFLOWS                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¨â€ğŸ’» PERSONA 1: Data Scientist (Alex)                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Daily Workflow:                                                                    â”‚
â”‚                                                                                     â”‚
â”‚  09:00  Login to JupyterHub                                                         â”‚
â”‚         â””â”€â”€â–º http://localhost:30080                                                 â”‚
â”‚              Username: alex                                                         â”‚
â”‚                                                                                     â”‚
â”‚  09:05  Create new notebook: customer_analysis.ipynb                                â”‚
â”‚         â””â”€â”€â–º File â†’ New â†’ Notebook                                                  â”‚
â”‚                                                                                     â”‚
â”‚  09:10  Explore data with Trino                                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚         â”‚ from trino.dbapi import connect        â”‚                                  â”‚
â”‚         â”‚ conn = connect(                        â”‚                                  â”‚
â”‚         â”‚   host='trino-coordinator...',         â”‚                                  â”‚
â”‚         â”‚   port=8080                            â”‚                                  â”‚
â”‚         â”‚ )                                      â”‚                                  â”‚
â”‚         â”‚ cursor = conn.cursor()                 â”‚                                  â”‚
â”‚         â”‚ cursor.execute("SHOW CATALOGS")        â”‚                                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                  â”‚                                                                   â”‚
â”‚                  â”œâ”€â”€â–º Access: sales.public.customers                                 â”‚
â”‚                  â”œâ”€â”€â–º Access: marketing.public.leads                                 â”‚
â”‚                  â””â”€â”€â–º Access: hive.default.* (data lake)                             â”‚
â”‚                                                                                     â”‚
â”‚  09:30  Write federated query                                                       â”‚
â”‚         â””â”€â”€â–º Query spans Sales + Marketing domains                                  â”‚
â”‚              Results in < 3 seconds                                                 â”‚
â”‚                                                                                     â”‚
â”‚  10:00  Build DBT model for reusability                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚         â”‚ $ cd ~/dbt_projects                    â”‚                                  â”‚
â”‚         â”‚ $ dbt run --models mart_*              â”‚                                  â”‚
â”‚         â”‚ $ dbt test                             â”‚                                  â”‚
â”‚         â”‚ $ dbt docs generate                    â”‚                                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                                     â”‚
â”‚  10:30  Create visualizations                                                       â”‚
â”‚         â””â”€â”€â–º matplotlib/seaborn in notebook                                         â”‚
â”‚              OR                                                                     â”‚
â”‚         â””â”€â”€â–º Share query with Grafana team                                          â”‚
â”‚                                                                                     â”‚
â”‚  11:00  Upload results to data lake                                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚         â”‚ import boto3                           â”‚                                  â”‚
â”‚         â”‚ s3 = boto3.client('s3',                â”‚                                  â”‚
â”‚         â”‚   endpoint='minio:9000')               â”‚                                  â”‚
â”‚         â”‚ s3.upload_file('results.parquet',      â”‚                                  â”‚
â”‚         â”‚   'datalake', 'analytics/...')         â”‚                                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                                     â”‚
â”‚  Tools Used:                                                                        â”‚
â”‚    âœ… JupyterHub (workspace)                                                        â”‚
â”‚    âœ… Trino (federated queries)                                                     â”‚
â”‚    âœ… DBT (transformations)                                                         â”‚
â”‚    âœ… Python (pandas, matplotlib)                                                   â”‚
â”‚    âœ… Minio (data lake storage)                                                     â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘” PERSONA 2: Business Analyst (Sarah)                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Daily Workflow:                                                                    â”‚
â”‚                                                                                     â”‚
â”‚  08:30  Login to Grafana                                                            â”‚
â”‚         â””â”€â”€â–º http://localhost:30030                                                 â”‚
â”‚              Username: sarah                                                        â”‚
â”‚                                                                                     â”‚
â”‚  08:35  Open pre-built dashboards                                                   â”‚
â”‚         â”œâ”€â”€â–º Sales Performance Dashboard                                            â”‚
â”‚         â”œâ”€â”€â–º Marketing Campaign ROI                                                 â”‚
â”‚         â””â”€â”€â–º Customer Journey Analytics                                             â”‚
â”‚                                                                                     â”‚
â”‚  09:00  Explore metrics                                                             â”‚
â”‚         â””â”€â”€â–º Filter by date range                                                   â”‚
â”‚         â””â”€â”€â–º Drill down by campaign                                                 â”‚
â”‚         â””â”€â”€â–º Export to PDF for meeting                                              â”‚
â”‚                                                                                     â”‚
â”‚  10:00  Create new visualization                                                    â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚         â”‚ Add Panel â†’ Query Builder              â”‚                                  â”‚
â”‚         â”‚   Data Source: PostgreSQL (Sales)      â”‚                                  â”‚
â”‚         â”‚   Query: SELECT ... FROM               â”‚                                  â”‚
â”‚         â”‚     mart_customer_journey              â”‚                                  â”‚
â”‚         â”‚   Visualization: Time Series           â”‚                                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                                     â”‚
â”‚  11:00  Set up alerts                                                               â”‚
â”‚         â””â”€â”€â–º Alert if conversion rate < 20%                                         â”‚
â”‚         â””â”€â”€â–º Notify via email                                                       â”‚
â”‚                                                                                     â”‚
â”‚  Tools Used:                                                                        â”‚
â”‚    âœ… Grafana (visualization)                                                       â”‚
â”‚    âœ… DBT marts (pre-built by data team)                                            â”‚
â”‚    âŒ No need for JupyterHub/Python!                                                â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”§ PERSONA 3: Data Engineer (Mike)                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Daily Workflow:                                                                    â”‚
â”‚                                                                                     â”‚
â”‚  08:00  Check system health                                                         â”‚
â”‚         â”œâ”€â”€â–º Trino Web UI (query performance)                                       â”‚
â”‚         â”œâ”€â”€â–º Minio Console (storage usage)                                          â”‚
â”‚         â””â”€â”€â–º Grafana (system metrics)                                               â”‚
â”‚                                                                                     â”‚
â”‚  09:00  Deploy new DBT models                                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚         â”‚ $ kubectl exec -it                     â”‚                                  â”‚
â”‚         â”‚   jupyter-admin -n data-platform       â”‚                                  â”‚
â”‚         â”‚   -- bash                              â”‚                                  â”‚
â”‚         â”‚ $ cd ~/dbt_projects                    â”‚                                  â”‚
â”‚         â”‚ $ dbt run --full-refresh               â”‚                                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                                     â”‚
â”‚  10:00  Add new data source                                                         â”‚
â”‚         â””â”€â”€â–º Edit Trino catalog configuration                                       â”‚
â”‚         â””â”€â”€â–º Create new PostgreSQL connector                                        â”‚
â”‚         â””â”€â”€â–º Update Hive metadata                                                   â”‚
â”‚                                                                                     â”‚
â”‚  11:00  Monitor data quality                                                        â”‚
â”‚         â””â”€â”€â–º Run DBT tests                                                          â”‚
â”‚         â””â”€â”€â–º Check test results                                                     â”‚
â”‚         â””â”€â”€â–º Fix issues if any                                                      â”‚
â”‚                                                                                     â”‚
â”‚  14:00  Optimize Trino queries                                                      â”‚
â”‚         â””â”€â”€â–º Analyze slow queries                                                   â”‚
â”‚         â””â”€â”€â–º Add table statistics                                                   â”‚
â”‚         â””â”€â”€â–º Create partitions if needed                                            â”‚
â”‚                                                                                     â”‚
â”‚  Tools Used:                                                                        â”‚
â”‚    âœ… kubectl (Kubernetes management)                                               â”‚
â”‚    âœ… Trino Web UI (monitoring)                                                     â”‚
â”‚    âœ… JupyterHub (DBT development)                                                  â”‚
â”‚    âœ… Minio Console (storage management)                                            â”‚
â”‚    âœ… DBT (pipeline orchestration)                                                  â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘‘ PERSONA 4: Executive (Emma)                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Daily Workflow:                                                                    â”‚
â”‚                                                                                     â”‚
â”‚  09:00  Login to Grafana (read-only)                                                â”‚
â”‚         â””â”€â”€â–º http://localhost:30030                                                 â”‚
â”‚                                                                                     â”‚
â”‚  09:05  View Executive Dashboard                                                    â”‚
â”‚         â”œâ”€â”€â–º KPI Overview (Revenue, Customers, Conversion)                          â”‚
â”‚         â”œâ”€â”€â–º Trend Analysis (Week-over-week, Month-over-month)                      â”‚
â”‚         â””â”€â”€â–º Department Performance (Sales vs Marketing)                            â”‚
â”‚                                                                                     â”‚
â”‚  09:15  Export report for board meeting                                             â”‚
â”‚         â””â”€â”€â–º Export as PDF                                                          â”‚
â”‚         â””â”€â”€â–º Share via email                                                        â”‚
â”‚                                                                                     â”‚
â”‚  Tools Used:                                                                        â”‚
â”‚    âœ… Grafana only (no technical skills needed!)                                    â”‚
â”‚    âŒ Never touches JupyterHub, Trino, or DBT                                       â”‚
â”‚                                                                                     â”‚
â”‚  Benefits:                                                                          â”‚
â”‚    â€¢ Real-time data                                                                 â”‚
â”‚    â€¢ No waiting for IT                                                              â”‚
â”‚    â€¢ Self-service insights                                                          â”‚
â”‚    â€¢ No SQL knowledge required                                                      â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Diagram 5: Security & Access Control

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       SECURITY LAYERS & ACCESS CONTROL                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 1: Network Security                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Kubernetes Network Policies:                                                       â”‚
â”‚                                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚  Default: Deny all traffic                                   â”‚                â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                                     â”‚
â”‚    Allowed ingress:                                                                 â”‚
â”‚      âœ… data-platform â†’ sales-domain (DB access)                                    â”‚
â”‚      âœ… data-platform â†’ marketing-domain (DB access)                                â”‚
â”‚      âœ… JupyterHub â†’ Trino (query execution)                                        â”‚
â”‚      âœ… Trino â†’ Hive (metadata)                                                     â”‚
â”‚      âœ… Trino â†’ Minio (data lake)                                                   â”‚
â”‚      âœ… Grafana â†’ All databases (read-only)                                         â”‚
â”‚                                                                                     â”‚
â”‚    Blocked:                                                                         â”‚
â”‚      âŒ sales-domain â†” marketing-domain (direct communication)                      â”‚
â”‚      âŒ External â†’ Internal databases (no direct access)                            â”‚
â”‚                                                                                     â”‚
â”‚  Port Exposure:                                                                     â”‚
â”‚      NodePort (external):  30xxx                                                    â”‚
â”‚      ClusterIP (internal): Service ports only                                       â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 2: Authentication                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  JupyterHub Authentication:                                                         â”‚
â”‚    â€¢ Username/Password (admin / datamesh2024)                                       â”‚
â”‚    â€¢ Can be extended to:                                                            â”‚
â”‚      - LDAP/Active Directory                                                        â”‚
â”‚      - OAuth (Google, GitHub)                                                       â”‚
â”‚      - SAML                                                                         â”‚
â”‚                                                                                     â”‚
â”‚  Grafana Authentication:                                                            â”‚
â”‚    â€¢ Username/Password (admin / datamesh2024)                                       â”‚
â”‚    â€¢ Built-in user management                                                       â”‚
â”‚    â€¢ Role-based access (Viewer, Editor, Admin)                                      â”‚
â”‚                                                                                     â”‚
â”‚  Minio Authentication:                                                              â”‚
â”‚    â€¢ Access Key / Secret Key                                                        â”‚
â”‚    â€¢ S3 signature authentication                                                    â”‚
â”‚    â€¢ Bucket policies                                                                â”‚
â”‚                                                                                     â”‚
â”‚  Database Authentication:                                                           â”‚
â”‚    â€¢ PostgreSQL: username/password                                                  â”‚
â”‚    â€¢ Trino: pass-through to connectors                                              â”‚
â”‚    â€¢ Hive: Kerberos (optional, not enabled)                                         â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 3: Authorization (Data Access)                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Current Setup (Academic):                                                          â”‚
â”‚    â€¢ All authenticated users have full access                                       â”‚
â”‚    â€¢ No row-level security                                                          â”‚
â”‚    â€¢ No column masking                                                              â”‚
â”‚                                                                                     â”‚
â”‚  Production-Ready Options (can be added):                                           â”‚
â”‚                                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â”‚  Trino Access Control                                      â”‚                  â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚    â”‚                                                            â”‚                  â”‚
â”‚    â”‚  File-based:                                               â”‚                  â”‚
â”‚    â”‚    â€¢ access-control.properties                             â”‚                  â”‚
â”‚    â”‚    â€¢ rules.json                                            â”‚                  â”‚
â”‚    â”‚                                                            â”‚                  â”‚
â”‚    â”‚  Example rules:                                            â”‚                  â”‚
â”‚    â”‚    {                                                       â”‚                  â”‚
â”‚    â”‚      "catalogs": [                                         â”‚                  â”‚
â”‚    â”‚        {                                                   â”‚                  â”‚
â”‚    â”‚          "user": "sales_team",                             â”‚                  â”‚
â”‚    â”‚          "catalog": "sales",                               â”‚                  â”‚
â”‚    â”‚          "allow": "all"                                    â”‚                  â”‚
â”‚    â”‚        },                                                  â”‚                  â”‚
â”‚    â”‚        {                                                   â”‚                  â”‚
â”‚    â”‚          "user": "sales_team",                             â”‚                  â”‚
â”‚    â”‚          "catalog": "marketing",                           â”‚                  â”‚
â”‚    â”‚          "allow": "read-only"                              â”‚                  â”‚
â”‚    â”‚        }                                                   â”‚                  â”‚
â”‚    â”‚      ]                                                     â”‚                  â”‚
â”‚    â”‚    }                                                       â”‚                  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                                     â”‚
â”‚    PostgreSQL Row-Level Security (RLS):                                             â”‚
â”‚      â€¢ Can restrict rows based on user                                              â”‚
â”‚      â€¢ Example: Users only see their department's data                              â”‚
â”‚                                                                                     â”‚
â”‚    Ranger Integration (Advanced):                                                   â”‚
â”‚      â€¢ Centralized access control                                                   â”‚
â”‚      â€¢ Fine-grained policies                                                        â”‚
â”‚      â€¢ Audit logging                                                                â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 4: Data Encryption                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  In Transit:                                                                        â”‚
â”‚    Current:  âŒ HTTP (local development)                                            â”‚
â”‚    Production: âœ… HTTPS/TLS (recommended)                                           â”‚
â”‚      â€¢ Add TLS certificates                                                         â”‚
â”‚      â€¢ Configure Ingress with TLS                                                   â”‚
â”‚      â€¢ Enable HTTPS in all services                                                 â”‚
â”‚                                                                                     â”‚
â”‚  At Rest:                                                                           â”‚
â”‚    Current:  âš ï¸  Kubernetes PVC (default storage)                                   â”‚
â”‚    Production: âœ… Encrypted volumes                                                 â”‚
â”‚      â€¢ Enable volume encryption                                                     â”‚
â”‚      â€¢ Use encrypted storage class                                                  â”‚
â”‚      â€¢ Encrypt database backups                                                     â”‚
â”‚                                                                                     â”‚
â”‚  Secrets Management:                                                                â”‚
â”‚    Current:  âš ï¸  Kubernetes Secrets (base64)                                        â”‚
â”‚    Production: âœ… Vault or Sealed Secrets                                           â”‚
â”‚      â€¢ HashiCorp Vault integration                                                  â”‚
â”‚      â€¢ Sealed Secrets (encrypted at rest)                                           â”‚
â”‚      â€¢ Rotate credentials regularly                                                 â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LAYER 5: Audit & Monitoring                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                     â”‚
â”‚  Query Auditing:                                                                    â”‚
â”‚    â€¢ Trino query history (UI)                                                       â”‚
â”‚    â€¢ PostgreSQL query logs                                                          â”‚
â”‚    â€¢ DBT run logs                                                                   â”‚
â”‚                                                                                     â”‚
â”‚  Access Logs:                                                                       â”‚
â”‚    â€¢ JupyterHub access logs                                                         â”‚
â”‚    â€¢ Grafana audit trail                                                            â”‚
â”‚    â€¢ Kubernetes audit logs                                                          â”‚
â”‚                                                                                     â”‚
â”‚  Can be enhanced with:                                                              â”‚
â”‚    â€¢ Elasticsearch + Kibana (log aggregation)                                       â”‚
â”‚    â€¢ Prometheus + Grafana (metrics)                                                 â”‚
â”‚    â€¢ DataHub lineage (who accessed what)                                            â”‚
â”‚                                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**ğŸ“š How to Use These Diagrams:**

1. **Diagram 1**: Show overall technical architecture
2. **Diagram 2**: Explain data flow during queries
3. **Diagram 3**: Reference for network configuration
4. **Diagram 4**: Present user workflows to stakeholders
5. **Diagram 5**: Discuss security with IT/compliance team

**ğŸ’¡ Tip:** These diagrams are also great for:
- Academic presentations
- Technical documentation
- Onboarding new team members
- Architecture review meetings

